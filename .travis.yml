language: node_js
dist: xenial

node_js:
- stable

sudo: required

notifications:
  slack: sytw:xbLYeJ93mpOR1m6IsQ5VxKVW

addons:
  sonarcloud:
      organization: "sytw2019"
      token:
        secure: $SONAR_TOKEN

cache:
  directories:
    - "node_modules"

install:
- npm install

script:
- npm run clean
- npm run test:unit
- npm run build
- sonar-scanner